(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{504:function(_,v,p){"use strict";p.r(v);var e=p(4),t=Object(e.a)({},(function(){var _=this,v=_.$createElement,p=_._self._c||v;return p("ContentSlotsDistributor",{attrs:{"slot-key":_.$parent.slotKey}},[p("p",[_._v("XSS，即 Cross Site Script，跨站脚本攻击")]),_._v(" "),p("p",[_._v("XSS攻击的核心原理是：不需要你做任何的登录认证，它会通过合法的操作（比如在url中输入、在评论框中输入），向页面注入脚本。当用户浏览此网页时，脚本就会在用户的浏览器上执行，进而达到攻击者的目的。比如获取用户的 Cookie、导航到恶意网站等。大部分的 XSS 漏洞都是由于没有处理好用户的输入，导致恶意脚本在浏览器中执行。任何输入提交数据的地方都有可能存在 XSS。")]),_._v(" "),p("p",[_._v("XSS的攻击方式")]),_._v(" "),p("p",[_._v("1、反射型")]),_._v(" "),p("p",[_._v("发出请求时，XSS代码出现在url中，作为输入提交到服务器端，服务器端解析后响应，XSS代码随响应内容一起传回给浏览器，最后浏览器解析执行XSS代码。这个过程像一次反射，所以叫反射型XSS。黑客通常通过构造一个包含 XSS 代码的 URL，诱导用户点击链接，触发 XSS 代码，达到劫持访问、获取 cookies 的目的。")]),_._v(" "),p("p",[_._v("2、存储型")]),_._v(" "),p("p",[_._v("储型XSS和反射型XSS的差别在于，提交的代码会存储在服务器端（数据库、内存、文件系统等），下次请求时目标页面时不用再提交XSS代码。")]),_._v(" "),p("p",[_._v("3、DOM-based型")]),_._v(" "),p("p",[_._v("与反射型的差别在于，没有服务端响应过程，由于js可以直接操作DOM，出现在url中的XSS代码被js取出后执行。")]),_._v(" "),p("p",[_._v("XSS的防范措施主要有三个：")]),_._v(" "),p("p",[_._v("1、编码：")]),_._v(" "),p("p",[_._v("对用户输入的数据进行HTML Entity 编码。")]),_._v(" "),p("p",[_._v("2、过滤：")]),_._v(" "),p("p",[_._v("移除用户输入的Style节点、Script节点、Iframe节点。移除用户输入的和事件相关的属性。如onerror可以自动触发攻击，还有onclick等。")]),_._v(" "),p("p",[_._v("3、使用CSP")]),_._v(" "),p("p",[_._v("CSP通过指定有效域——即浏览器认可的可执行脚本的有效来源——使服务器管理者有能力减少或消除XSS攻击所依赖的载体。一个CSP兼容的浏览器将会仅执行从白名单域获取到的脚本文件，忽略所有的其他脚本")]),_._v(" "),p("p",[_._v("4、输入内容长度控制")]),_._v(" "),p("p",[_._v("对于不受信任的输入，都应该限定一个合理的长度。虽然无法完全防止 XSS 发生，但可以增加 XSS 攻击的难度。")]),_._v(" "),p("p",[_._v("CSRF（Cross-site request forgery）：跨站请求伪造。")]),_._v(" "),p("p",[p("img",{attrs:{src:"https://img2018.cnblogs.com/blog/941968/201904/941968-20190422203527996-279231194.jpg",alt:"img"}})]),_._v(" "),p("p",[_._v("用户是网站A的注册用户，且登录进去，于是网站A就给用户下发cookie。")]),_._v(" "),p("p",[_._v("从上图可以看出，要完成一次CSRF攻击，受害者必须满足两个必要的条件：")]),_._v(" "),p("p",[_._v("（1）登录受信任网站A，并在本地生成Cookie。（如果用户没有登录网站A，那么网站B在诱导的时候，请求网站A的api接口时，会提示你登录）")]),_._v(" "),p("p",[_._v("（2）在不登出A的情况下，访问危险网站B。")]),_._v(" "),p("p",[_._v("3、CSRF如何防御")]),_._v(" "),p("p",[_._v("方法一、Token 验证：（用的最多）")]),_._v(" "),p("p",[_._v("（1）服务器发送给客户端一个token；")]),_._v(" "),p("p",[_._v("（2）客户端提交的表单中带着这个token。")]),_._v(" "),p("p",[_._v("（3）如果这个 token 不合法，那么服务器拒绝这个请求。")]),_._v(" "),p("p",[_._v("方法二：隐藏令牌：")]),_._v(" "),p("p",[_._v("把 token 隐藏在 http 的 head头中。")]),_._v(" "),p("p",[_._v("方法二和方法一有点像，本质上没有太大区别，只是使用方式上有区别。")]),_._v(" "),p("p",[_._v("方法三、Referer 验证：")]),_._v(" "),p("p",[_._v("Referer 指的是页面请求来源。意思是，只接受本站的请求，服务器才做响应；如果不是，就拦截。")]),_._v(" "),p("p",[p("a",{attrs:{href:"https://www.cnblogs.com/itsuibi/p/10752868.html",target:"_blank",rel:"noopener noreferrer"}},[_._v("xss攻击和csrf攻击的定义及区别"),p("OutboundLink")],1)])])}),[],!1,null,null,null);v.default=t.exports}}]);